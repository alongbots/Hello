try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6580b84d-1b9d-4b7e-80dd-e53255ae992f",e._sentryDebugIdIdentifier="sentry-dbid-6580b84d-1b9d-4b7e-80dd-e53255ae992f")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"d8ea849a8f6630d596dadf4704adb6de069d21ff"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1565],{18864:(e,t,a)=>{a.d(t,{Ay:()=>g,rv:()=>f});var o=a(20038),s=a(34524),n=a(5298),i=a(8811),d=a(89625),c=a(16536);const r=["immersiveTakeover","custom","base"],l={immersiveTakeover:null,custom:i.V.default},u=(0,o.Z0)({name:"background",initialState:l,reducers:{unsetBackground:()=>l,setBackground:(e,t)=>{const{layer:a,background:o}=t.payload;e[a]=o}},selectors:{selectBackground:e=>{let t=i.V.default;return Object.values(r).some((a=>!!e[a]&&(t=e[a],!0))),"string"==typeof t?t:{...t}},selectIsImmersiveTakeover:e=>null!==e.immersiveTakeover}}),{unsetBackground:p,setBackground:y}=u.actions,{selectBackground:f,selectIsImmersiveTakeover:m}=u.selectors;(0,c.Zv)({type:n.yc.type,effect:(e,t)=>{const a=t.getState(),o=(0,n.K5)(a),s=f(a);if(!s?.sticky)if("preview"!==o)if("mystery"!==o)if("game"!==o)if("category"!==o)t.dispatch(p());else{const e=(0,n.N2)(a),o=(0,d.r)(e.id);t.dispatch(y({layer:"custom",background:o}))}else{const e=(0,n.Vv)(a),o=(0,d.P)(e);t.dispatch(y({layer:"custom",background:o}))}else{const{mystery:e}=i.V;t.dispatch(y({layer:"custom",background:e}))}else{const{preview:e}=i.V;t.dispatch(y({layer:"custom",background:e}))}}}),(0,c.Zv)({type:s.jO.type,effect:(e,t)=>{const{background:a}=e?.payload?.takeover?.config||{};a&&t.dispatch(y({layer:"immersiveTakeover",background:{...a,style:"dual-cover"}}))}}),(0,c.Zv)({type:s.jp.type,effect:(e,t)=>{t.dispatch(p())}});const g=u.reducer},34524:(e,t,a)=>{a.d(t,{$E:()=>Z,$i:()=>V,Ay:()=>Y,Fw:()=>C,GE:()=>j,HH:()=>G,I2:()=>U,Lz:()=>F,MS:()=>T,Q5:()=>B,QB:()=>_,XB:()=>L,XZ:()=>w,eb:()=>D,i$:()=>P,i8:()=>R,iM:()=>M,j5:()=>x,jO:()=>E,jp:()=>I,mY:()=>H,nj:()=>N,o3:()=>h,oP:()=>O,sF:()=>b,th:()=>z,wt:()=>A});var o=a(20038),s=a(1081),n=a(48554),i=a(42891),d=a(5298),c=a(91323),r=a(11436),l=a(53210),u=a(15049),p=a(17782),y=a(73421),f=a(16345),m=a(28933),g=a(83569),S=a(35190);let k;try{navigator?.cookieDeprecationLabel&&navigator.cookieDeprecationLabel.getValue().then((e=>{k=e}))}catch{}const v=(0,o.Z0)({name:"ads",initialState:{takeover:null,pokiSDKLoaded:!1,adStackLoaded:!1,adStackReadyForLoad:!1,adBlocked:!1,mobileAdsOpportunity:!1,gameBarHouseAdCount:0,gameBarHouseAdEmpty:!1},reducers:{pokiSDKLoaded:e=>{e.pokiSDKLoaded=!0},adStackLoaded:e=>{e.adStackLoaded=!0},adBlocked:e=>{e.adBlocked=!0},startImmersiveTakeover:(e,t)=>{e.takeover=t.payload.takeover},stopImmersiveTakeover:e=>{e.takeover=null},setMobileAdsOpportunity:(e,t)=>{e.mobileAdsOpportunity=t.payload.allowed},countGameBarHouseAd:(e,t)=>{e.gameBarHouseAdEmpty=t.payload.isEmpty,e.gameBarHouseAdCount+=t.payload.isEmpty?0:1}},extraReducers:e=>{e.addCase(n.Br,(e=>{e.adStackReadyForLoad=!0,e.gameBarHouseAdCount=0,e.gameBarHouseAdEmpty=!1}))}}),b=(0,o.VP)("ads/refresh_display_ads"),h=(0,p.A)("ads/display_ad"),w=(0,p.A)("ads/refresh_ad"),_=(0,p.A)("ads/destory_ad_slot"),A=(0,o.VP)("ads/force_stop_ad_refresh"),P=(0,o.VP)("ads/cleanup_companion_ad"),{pokiSDKLoaded:L,adStackLoaded:G,adBlocked:B,startImmersiveTakeover:E,stopImmersiveTakeover:I,setMobileAdsOpportunity:D,countGameBarHouseAd:O}=v.actions,R=(0,s.Mz)(i.Kk,u.dR,u.lb,((e,t,a)=>{if("undefined"!=typeof window){const e=new URL(window?.location?.toString())?.searchParams?.get("force_ay_mode")||S.G.NOT_APPLICABLE;if([S.G.DISABLED,S.G.PBS_ONLY,S.G.DPF_ONLY,S.G.CSTS_ONLY,S.G.PBS_DPF_CSTS,S.G.ON].includes(e))return console.warn("AY mode set by URL parameter:",e),e}return a||!t?S.G.NOT_APPLICABLE:e>=4&&e<8?S.G.PBS_ONLY:e>=8&&e<12?S.G.DPF_ONLY:e>=12&&e<16?S.G.DISABLED:S.G.ON})),C=(0,s.Mz)(R,i.wu,((e,t)=>(0,m.J)(e,t))),V=(0,s.Mz)(r.m_,c.Gd,d.Vv,l.p,i.H6,R,((e,t,a,o,s,n)=>{const i={tag:"pg-vd8ea849a8f6630d596dadf4704adb6de069d21ff",ab:Math.floor(100*Math.random()).toString(),experiment:o,page_has_mpu:"no",page_has_skyscraper:"no",page_has_lead:"no",cookieDepL:k,site_id:t.id,ay_mode:n};if(a&&(i["game-id"]=a.id,i.categories=(a.categories||[]).map((({id:e})=>e)),o&&(i.expid_content_gameid=`${o}|${a.id}`)),e&&(i.debug=e),!s){let e=3;const t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),a=Object.keys(y.xu);for(let o=0;o<a.length;o++){const s=Number(a[o]),n=y.xu[s]||0,i=y.xu[Number(a[o+1])]||1/0;if(t>=n&&t<=i){e=s;break}}i.page_has_lead="yes",e>=12&&(i.page_has_mpu="yes"),[9,11,17].includes(e)&&(i.page_has_skyscraper="yes")}return i}));function M(e){return e.ads.takeover}function F(e){return e.ads.pokiSDKLoaded}function x(e){return e.ads.adStackLoaded}function H(e){return e.ads.gameBarHouseAdCount}function T(e){return e.ads.gameBarHouseAdEmpty}const N=e=>e.ads.adBlocked,K=(0,s.Mz)(i.H6,(e=>e.ads.adStackReadyForLoad),((e,t)=>!e||t));function j(e){return e.ads.mobileAdsOpportunity}const z=(0,s.Mz)(F,i.Wv,K,((e,t,a)=>{(0,g.K)("selectAdStackReady:inputs",{sdkLoaded:e,consentSettled:t,adStackStartMoment:a});const o=e&&t&&a;return(0,g.K)("selectAdStackReady:result",{result:o}),o})),Z=(0,s.Mz)(d.Vv,(e=>{const t=[];return e?.categories&&e.categories.forEach((e=>{e.iabCategories&&e.iabCategories.split(",").forEach((e=>{t.includes(e)||t.push(e)}))})),t.sort(),t})),U=(0,s.Mz)(d.Vv,c.Gd,((e,t)=>{const a=(0,f.A)(),o=3===t.id?"Poki":t.domain_title;return{site:{name:o,domain:window.location.hostname,page:window.location.href,privacypolicy:1,publisher:{name:o,domain:t.domain},content:e?{id:`${e.id}`,title:e.title,url:window.location.href,sourcerelationship:1}:{}},device:{w:a.width,h:a.height}}})),Y=v},42891:(e,t,a)=>{a.d(t,{$:()=>z,Ay:()=>Z,F8:()=>u,Fe:()=>O,Fu:()=>w,H6:()=>B,Jj:()=>H,KM:()=>F,Kk:()=>j,Kn:()=>M,Mh:()=>N,Pl:()=>h,Rd:()=>R,SG:()=>r,W3:()=>V,Wv:()=>T,Xy:()=>l,Y1:()=>p,ac:()=>D,hG:()=>_,kW:()=>x,nx:()=>k,oJ:()=>E,pX:()=>v,qk:()=>I,rk:()=>L,wu:()=>A,xp:()=>G,zO:()=>K,zS:()=>C,zj:()=>P});var o=a(20038),s=a(1081),n=a(36774),i=a(91323);const d={bot:!1,cache:0,device:"desktop",isIpadOS:!1,isIos:!1,visibility:!0,history:[],geo:"NL",region:"NH",ccpaApplies:!1,host:"poki.com",viewportOrientation:"portrait",loadingPage:!1,recentGames:[],hydrated:!1,asyncEpicFired:!1,consentStatus:void 0,usPrivacyString:"1---",consistentRandomSeed:Math.random(),externalGames:{},privacyPopupRevision:"0",isAdsBlockedVisible:!1,trafficSource:!1},c=(0,o.Z0)({name:"client",initialState:d,reducers:{hydrated:e=>{e.hydrated=!0},fireAsyncEpics:e=>{e.asyncEpicFired=!0},setConsentStatus:(e,t)=>{e.consentStatus=t.payload.consentStatus},setUSPrivacyString:(e,t)=>{e.usPrivacyString=t.payload.usPrivacyString},setDevice:(e,t)=>{e.device=t.payload.device},setGeo:(e,t)=>{e.geo=t.payload.geo},setRegion:(e,t)=>{e.region=t.payload.region},setTrafficSource:(e,t)=>{e.trafficSource=t.payload.trafficSource},setHost:(e,t)=>{e.host=t.payload.host},setViewportOrientation:(e,t)=>{e.viewportOrientation=t.payload.orientation},storeRecentGame:(e,t)=>{const{recentGames:a,siteID:o}=t.payload;e.recentGames={...e.recentGames,[o]:a}},setConsistentRandomSeed:(e,t)=>{e.consistentRandomSeed=t.payload.rand},setConsentExternalHostedGame:(e,t)=>{const{gameId:a}=t.payload;e.externalGames={...e.externalGames,[a]:!0}},setPrivacyPolicyNotificationRevision:(e,t)=>{e.privacyPopupRevision=t.payload.revision},setAdsBlockedVisible:(e,t)=>{e.isAdsBlockedVisible=t.payload.isVisible}}}),{hydrated:r,fireAsyncEpics:l,setConsentStatus:u,setUSPrivacyString:p,setDevice:y,setGeo:f,setRegion:m,setTrafficSource:g,setHost:S,setViewportOrientation:k,storeRecentGame:v,setConsistentRandomSeed:b,setConsentExternalHostedGame:h,setPrivacyPolicyNotificationRevision:w,setAdsBlockedVisible:_}=c.actions;function A(e){return e.client.geo}function P(e){return e.client.region}function L(e){return e.client.viewportOrientation}const G=e=>e.client.device;function B(e){const{device:t}=e.client;return"tablet"===t||"mobile"===t}const E=e=>e.client.ccpaApplies,I=(0,s.Mz)((e=>e.client.geo),(e=>n._k.includes(e))),D=e=>e.client.loadingPage&&e.client.hydrated,O=(0,s.Mz)(i.Gd,(e=>e.client.recentGames),((e,t)=>e&&t&&t[e.id]?t[e.id]:[])),R=e=>e.client.consistentRandomSeed,C=e=>e.client.isIpadOS,V=e=>e.client.isIos,M=e=>e.client.usPrivacyString;function F(e,t){const{externalGames:a}=e.client;return a[t]||!1}const x=e=>e.client.privacyPopupRevision,H=e=>e.client.isAdsBlockedVisible,T=(0,s.Mz)((e=>e.client.consentStatus),E,I,((e,t,a)=>t||!a||e===n.T2)),N=e=>e.client.asyncEpicFired,K=e=>e.client.trafficSource,j=()=>{const e="undefined"!=typeof window&&window?.context?.session?.id;if(!e)return 100;let t=0;for(let a=0;a<e.length;a++)t+=e.charCodeAt(a);return t%100},z=(0,s.Mz)(A,(e=>!["GB","ES"].includes(e))),Z=c},89385:(e,t,a)=>{a.d(t,{Ay:()=>I,Cf:()=>P,Ep:()=>S,Fh:()=>v,Gw:()=>k,IT:()=>f,Jk:()=>p,QF:()=>m,V1:()=>A,Z:()=>b,hK:()=>G,iJ:()=>y,ij:()=>g,qf:()=>_});var o=a(20038),s=a(10179),n=a(88800),i=a(42891),d=a(98708),c=a(11436),r=a(16536),l=a(46493),u=a(52694);const p=e=>e.account.enabled,y=e=>e.account.status,f=e=>e.account.session,m=e=>e.account.flow,g=e=>e.account.isPanelVisible,S=e=>200===e.account.status,k=e=>e.account.wasLoggedInBefore,v=e=>e.account.disabledSaveGames,b=e=>e.account.source,h=(0,o.Z0)({name:"account",initialState:{enabled:!1,status:null,session:null,flow:null,isPanelVisible:!1,source:null,wasLoggedInBefore:!1,disabledSaveGames:[],hasPasskeySupport:!0},reducers:{setEnableAccount:(e,t)=>{e.enabled=t.payload.enabled},toggleAccountPanel:(e,t)=>{e.isPanelVisible=!e.isPanelVisible,e.source=t?.payload?.source||null;const a=e.isPanelVisible?"hidden":"auto";document.body.style.overflow=a,!e.isPanelVisible&&window.frames?.gameFrame?.postMessage&&window.frames.gameFrame.postMessage?.({type:"pokiAccountsAuthPanelClosed"},"*")},setWasLoggedInBefore:e=>{e.wasLoggedInBefore=!0},setFlow:(e,t)=>{let a=t.payload.flowData;const o=(e=>e.account.hasPasskeySupport)({account:e});a=(0,u.py)(a),o||(a=(0,u.rn)(a)),e.flow=a},setDisabledSaveGames:(e,t)=>{e.disabledSaveGames.includes(t.payload.gameID)||e.disabledSaveGames.push(t.payload.gameID)},setHasPasskeySupport:(e,t)=>{e.hasPasskeySupport=t.payload.hasPasskeySupport}},extraReducers:e=>{e.addCase(s.sx.fulfilled,((e,t)=>{const a=t.payload;e.session=a,e.status=200})),e.addCase(s.sx.rejected,(e=>{e.session=null,e.status=401}))}}),{setEnableAccount:w,toggleAccountPanel:_,setFlow:A,setWasLoggedInBefore:P,setHasPasskeySupport:L,setDisabledSaveGames:G}=h.actions;(0,r.Zv)({actionCreator:s.sx.fulfilled,effect:(e,t)=>{const a=t.getState(),o=f(a),n=o?.identity?.is_first_login,i=o?.identity?.id||"unknown",d=o?.authentication_method||"unknown",c=new URL(window.location.href).searchParams.get("accountSource");t.dispatch(P()),n?((0,l.F)({category:"account",action:"registerSuccess",label:d,data:{accountId:i,source:c}}),t.dispatch((0,s.jE)())):(0,l.F)({category:"account",action:"loginSuccess",label:d,data:{accountId:i,source:c}})}}),(0,r.Zv)({actionCreator:s.sx.rejected,effect:async(e,t)=>{const a=await(0,u.ec)();t.dispatch(L({hasPasskeySupport:a})),(0,l.F)({category:"account",action:"hasPasskeySupport",label:a?"true":"false"})}});let B=null,E=null;(0,r.Zv)({matcher:(0,o.i0)(s.sx.fulfilled,s.sx.rejected),effect:(e,{unsubscribe:t})=>{window.addEventListener("message",(e=>{if("pokiAccountsGetUserInfo"===e?.data?.type){if(null===B||null===E){const e=window.store?.getState();if(!e)return console.error("No store found to get account state"),void window.frames?.gameFrame?.postMessage?.({type:"pokiAccountsUserInfo",enabled:!1,session:null},"*");B=p(e),E=f(e)}window.frames?.gameFrame?.postMessage?.({type:"pokiAccountsUserInfo",enabled:B,session:{id:E?.id||""}},"*")}})),t()}}),(0,r.Zv)({type:i.SG.type,effect:(e,{getState:t,dispatch:a,unsubscribe:o})=>{o();const s=t(),i=(0,c.fn)(s),r=g(s),l=i.includes("flow="),u=i.includes("id="),p=i.includes("trigger_registration="),y=i.includes("accountSource=");if((l||p)&&!r){let e="url";p&&y&&(e=new URLSearchParams(i).get("accountSource")),a(_({source:e}))}if(u){const e=(0,d.K)(s).search_broken,t=new URL(window.location.href);t.searchParams.delete("id"),window.history.replaceState({},document.title,t.toString()),a((0,n.Gg)({notification:{title:e,clickOutsideToClose:!0,autoExpire:8e3}}))}}});const I=h}}]);
//# sourceMappingURL=client~main-9b68f587~ba920a5693af69740053.js.map