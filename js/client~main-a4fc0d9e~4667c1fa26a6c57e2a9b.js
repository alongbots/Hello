try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6c95daa8-9292-4921-af90-42905cc87fc0",e._sentryDebugIdIdentifier="sentry-dbid-6c95daa8-9292-4921-af90-42905cc87fc0")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"d8ea849a8f6630d596dadf4704adb6de069d21ff"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2805],{574:(e,t,r)=>{r.d(t,{K:()=>y});var a=r(1081),i=r(42891),o=r(5298),n=r(91323);const s={};var c=r(25733),u=r(53210),d=r(15049),l=r(11436);const y=(0,a.Mz)(i.wu,c.v,(function(){return"undefined"==typeof window?s:JSON.parse(JSON.stringify(window.user||{}))}),n.Gd,u.p,o.K5,o.Vv,o.N2,l.k4,d.Ir,((e,t,r,a,i,o,n,s,c,u)=>{let d={};"game"===o&&(d={id:n.id,type:"game",path:c}),"category"===o&&(d={id:s.id,type:"category",path:c}),"home"===o&&(d={type:"home",id:0,path:c});return{geo:e,session:t,user:r,site:a,experiment:i,page:d,tag:"pg-d8ea849a8f6630d596dadf4704adb6de069d21ff",isPokiAnalyticsEnabled:u}}))},11436:(e,t,r)=>{r.d(t,{E6:()=>f,IA:()=>u,Lf:()=>m,Ms:()=>p,Pn:()=>g,fn:()=>n,hk:()=>c,k4:()=>d,m_:()=>y});var a=r(1081),i=r(91323),o=r(40890);function n(e){return e.router?.location?.search}const s=["cache","device","site","browserfamily","traffic-tag"],c=(0,a.Mz)(n,(e=>{const t=new URLSearchParams;for(const[r,a]of new URLSearchParams(e))s.includes(r)||t.append(r,a);const r=t.toString();return r?`?${r}`:""})),u=(0,a.Mz)(n,(e=>{const t={};return new URLSearchParams(e).forEach(((e,r)=>{r.toLowerCase().startsWith("gd")&&(t[r]=e)})),t}));function d(e){return e.router?.location?.pathname}const l=(0,a.Mz)((e=>e.router?.location?.pathname),n,((e,t)=>e+t)),y=((0,a.Mz)(((e,t)=>t||l(e)),(e=>e.client.host),c,((e,t,r)=>`${t}${e}${r}`)),(0,a.Mz)((e=>e.router.location.search.replace(/^\?/,"")),(e=>{if(!e)return;const t=e.split("&").find((e=>/^debug=/.test(e)));if(!t)return;const[,...r]=t.split("=");return r.join("=")}))),g=(0,a.Mz)(i.Gd,(e=>(0,o.AO)(e,"home","")));function p(e){const t=d(e),r=(0,i.Gd)(e),a=(0,o.M5)(r,t);return(0,o.TH)(r,a,t)}function m(e){return e.router.forceReload}function f(e){return e.router.action}},15049:(e,t,r)=>{r.d(t,{Ir:()=>i,Py:()=>n,U4:()=>a,VH:()=>d,YQ:()=>s,dR:()=>u,dV:()=>o,hv:()=>l,lb:()=>c});const a=e=>e.privacy.privacyCenterViewed,i=e=>e.privacy.pokiAnalytics,o=e=>e.privacy.adsAllowed,n=e=>e.privacy.bingRemarketingEnabled,s=e=>e.privacy.googleRemarketingEnabled,c=e=>e.privacy.isFamilyMode,u=e=>e.privacy.personalizedAds,d=e=>e.privacy.familyModeCookieConsentShown;function l(e){const t=i(e),r=c(e),a=e.privacy.sendDeviceCapabilities;return t&&a&&!r}},18478:(e,t,r)=>{r.d(t,{A:()=>L});var a=r(82960),i=r(34524),o=r(18864),n=r(42891),s=r(75685);function c(e={},t){return t.type===s.x.type?{...e,...t.conversions}:e}var u=r(51149);const d={config:{}};function l(e=d,t){return t.type===u.m.type?{...e,config:t.payload.config}:e}var y=r(48554),g=r(5298),p=r(67278),m=r(6788),f=r(822),h=r(88800),v=r(91323),$=r(7696);const b={privacyCenterViewed:!1,personalizedAds:!0,pokiAnalytics:!0,adsAllowed:!0,bingRemarketingEnabled:!0,googleRemarketingEnabled:!0,sendDeviceCapabilities:!0,isFamilyMode:!1,familyModeCookieConsentShown:void 0};function _(e=b,t){return t.type===$.kN.type?{...e,privacyCenterViewed:t.payload.toggle}:t.type===$.pI.type?{...e,personalizedAds:t.payload.toggle}:t.type===$.S9.type?{...e,pokiAnalytics:t.payload.toggle}:t.type===$.LX.type?{...e,adsAllowed:t.payload.toggle}:t.type===$.QX.type?{...e,bingRemarketingEnabled:t.payload.toggle}:t.type===$.X6.type?{...e,googleRemarketingEnabled:t.payload.toggle}:t.type===$.Dz.type?{...e,sendDeviceCapabilities:t.payload.toggle}:t.type===$.Yt.type?{...e,isFamilyMode:t.payload.toggle}:t.type===$.rB.type?{...e,familyModeCookieConsentShown:t.payload.shown}:e}var w=r(15203),k=r(97454),A=r(89385),G=r(5403);const C=({basename:e,defaultLocation:t={}})=>{const r={location:t,action:null,basename:e,forceReload:!1};return(e=r,t)=>{const{type:a}=t;if("@@router/LOCATION_CHANGE"===a){const{location:r,action:a}=t.payload||{};return{...e,location:r,action:a}}if(a===G.N.type){const{payload:r}=t,{forceReload:a}=r||{};return{...e,forceReload:a}}return e}};r(52600),r(355),r(21708);var q=r(61481);const L=e=>(0,a.HY)({router:C({defaultLocation:e.location}),ads:i.Ay.reducer,background:o.Ay,client:n.Ay.reducer,currency:c,experiment:l,game:y.Ay.reducer,pages:g.Ay.reducer,ratings:p.Ay.reducer,bugReport:m.Ay.reducer,search:f.Ay.reducer,notifications:h.Ay.reducer,site:v.Ay.reducer,privacy:_,mystery:w.Ay.reducer,eastereggs:k.Ay.reducer,account:A.Ay.reducer,[q.lh.reducerPath]:q.lh.reducer})},25733:(e,t,r)=>{function a(){return"undefined"==typeof window?{}:JSON.parse(JSON.stringify(window.session||{}))}r.d(t,{v:()=>a})},28685:(e,t,r)=>{r.d(t,{L:()=>a,W:()=>i});const a=e=>e.notifications.stack;function i(e,t){const{stack:r}=e.notifications;return r.find((e=>e.id===t))||null}},43908:(e,t,r)=>{r.d(t,{TH:()=>n,l0:()=>s,sv:()=>c});var a=r(40890);const i={},o={},n=[],s=e=>{Object.entries(e).forEach((([e,t])=>{"xx"!==t.iso_lang&&(i[e]=t,n.push({href:(0,a.kC)(t,"home",""),hrefLang:t.iso_lang,lang:t.lang}),o[t.iso_lang]=t)})),n.push({href:(0,a.kC)(i[3],"home",""),hrefLang:"x-default"})},c=()=>o},53210:(e,t,r)=>{function a(e){return e.experiment?.config?.playground?.sdk_version}function i(e){return e.experiment?.config?.id}r.d(t,{c:()=>a,p:()=>i})},61481:(e,t,r)=>{r.d(t,{CV:()=>k,H:()=>h,HF:()=>C,KK:()=>w,To:()=>G,Wm:()=>b,b7:()=>A,gM:()=>_,iK:()=>m,kw:()=>q,lh:()=>g,mk:()=>f,tE:()=>S,w$:()=>L,y6:()=>$});var a=r(75816),i=r(10378),o=r(43908),n=r(46278),s=r(80382),c=r(82552),u=r(40890);const d=(0,n.G6)(),l=(0,n.T5)(),y="mystery-tile-square.png",g=(0,a.xP)({reducerPath:"api",baseQuery:(0,i.cw)({baseUrl:d}),endpoints:e=>({getLocalisations:e.query({query:({site:e})=>`/localisations?site=${e.id}`}),getLocalisation:e.query({query:({site:e,slug:t,raw:r})=>`/localisations/${t}/${e.lang}?country=${e.lang}&site=${e.id}${r?`&raw=${r}`:""}`}),getHomepage:e.query({query:({site:e,device:t,geo:r,experiment:a,trafficSource:i})=>`/list/game/HOME?site=${e.id}&device=${t}&country=${r}&limit=${"mobile"===t?143:145}${a?`&experiment=${a}`:""}${["tiktok","instagram"].includes(i)?"&tiktok=1":""}`,transformResponse:(e,t,r)=>{const{content:a}=e;return{games:a.map((e=>(0,s.rL)(r.site,"game",e))),alternates:o.TH}}}),getPopularSearches:e.query({query:({site:e,device:t,geo:r})=>`/search/clicks?site=${e.id}&country=${r}&amount=6&view=${t}`,transformResponse:(e,t,r)=>(e||[]).map((e=>(0,s.rL)(r.site,"game",e)))}),getImvitaConfigs:e.query({query:()=>"/imvita"}),getCategory:e.query({query:({slug:e,site:t,device:r="mobile",geo:a,experiment:i})=>`/category/${encodeURIComponent(e)}?site=${t.id}&device=${r}&country=${a}&limit=300${i?`&experiment=${i}`:""}`,transformResponse:(e,t,r)=>{const a=(0,s.NH)(r.device,e?.games||[]).map((e=>(0,s.rL)(r.site,"game",e))),i=(e?.related_categories||[]).map((e=>(0,s.rL)(r.site,"category",e))),o=(0,c.u)("category",e.alternate_sites);return delete e.related_categories,{...e,games:a,relatedCategories:i,alternates:o}}}),getCategories:e.query({query:({site:e,list:t,device:r,geo:a})=>`/list/category/${t}${e.id}?site=${e.id}&device=${r}&country=${a}&offset=0&limit=40`,transformResponse:(e,t,r)=>{const{content:a}=e;return a.map((e=>(0,s.rL)(r.site,"category",e)))}}),getGame:e.query({query:({site:e,slug:t,device:r,geo:a,experiment:i,pageType:o,path:n})=>{if("preview"===o||"mystery"===o){const t=n.split("/");let i,s;if("mystery"===o)try{const e=atob(t[3]);[i,s]=e.split("/")}catch(e){return{url:null}}else[i,s]=[t[3],t[4]];return i&&s?`/previewgame/${i}/${s}?country=${a}&device=${r}&site=${e.id}`:{url:null}}return`/game/${encodeURIComponent(t)}?site=${e.id}&device=${r}&country=${a}${i?`&experiment=${i}`:""}`},transformResponse:(e,t,r)=>{if(!e)throw new Error(`Game ${r?.path} not found`);if("mystery"===r.pageType){const t=r.path.split("/"),a=atob(t[3]);e.orientation=a.split("/")[2]||"both",e.mobile_file.orientation=e.orientation,e.explicit_orientation_message="both"!==e.orientation,e.image.path=y,e.rating={down_count:0,rating:1,up_count:0}}const{categories:a,related_categories:i,related_games:o}=e,n=a?a.map((e=>(0,s.rL)(r.site,"category",e))):[],u=i?i.map((e=>(0,s.rL)(r.site,"category",e))):[],d="mobile"===r.device?(0,s.oI)(o):o,l=d?d.map((e=>(0,s.rL)(r.site,"game",e))):[],g=e.alternative_game?(0,s.rL)(r.site,"game",e.alternative_game):null,p=e.alternative_category?(0,s.rL)(r.site,"category",e.alternative_category):null,m=(0,c.u)("game",e.alternate_sites);delete e.related_categories,delete e.related_games;const f={path:e?.image?.path||y};return{...e,alternative_game:g,alternative_category:p,categories:n,relatedCategories:u,relatedGames:l,alternates:m,image:f}}}),getGamesByIDs:e.query({query:({site:e,ids:t,geo:r})=>`/games/?site=${e.id}&id=${t.join(",")}&country=${r}`,transformResponse:(e,t,r)=>{if(!e)return[];return e.map((e=>(0,s.rL)(r.site,"game",e)))}}),getUserStats:e.query({queryFn:async()=>{try{const e=`${l}/players/stats`,t=await fetch(e,{credentials:"include"});return{data:await t.json()}}catch(e){return console.error("Error fetching user stats:",e),{error:e}}}}),getUserGameHistory:e.query({queryFn:async({apiVersion:e,limit:t=30})=>{try{const r=e?`${l}/players/${e}/history?limit=${t}`:`${l}/players/history?limit=${t}`,a=await fetch(r,{credentials:"include"});return{data:await a.json()}}catch(e){return console.error("Error fetching user game history:",e),{error:e}}}}),getEggyGameStats:e.query({query:({geo:e})=>({url:`https://realtime.poki.com/metrics/eggycar/${e}?cached=1`,method:"GET"})}),getQuickSearchCategories:e.query({query:({site:e,device:t,geo:r})=>`/quicksearch?site=${e.id}&country=${r}&device=${t}`,transformResponse:(e,t,r)=>e.map((({title:e,slug:t})=>({title:e,slug:t,url:(0,u.AO)(r.site,"category",t)})))}),getAllGames:e.query({query:({site:e,size:t=100,page:r,country:a})=>`/allgames?site=${e.id}&size=${t}&page=${r}&country=${a}`}),getTopSeoCategories:e.query({query:({site:e})=>`/top-seo-categories?site=${e.id}`}),getJsonBlobByKey:e.query({query:({key:e,lang:t})=>`/json-blob/${e}?lang=${t}`})})}),{useGetLocalisationsQuery:p,useGetLocalisationQuery:m,useGetHomepageQuery:f,useGetPopularSearchesQuery:h,useGetImvitaConfigsQuery:v,useGetCategoryQuery:$,useGetCategoriesQuery:b,useGetGameQuery:_,useGetGamesByIDsQuery:w,useGetUserStatsQuery:k,useGetUserGameHistoryQuery:A,useGetEggyGameStatsQuery:G,useGetQuickSearchCategoriesQuery:C,useGetAllGamesQuery:q,useGetTopSeoCategoriesQuery:L,useGetJsonBlobByKeyQuery:S}=g},65995:(e,t,r)=>{r.d(t,{g:()=>n});var a=r(94900);const i=atob("bGVhZGVyYm9hcmQ=");let o;function n(e,t,r,n,s){if(!Number.isInteger(t))return;if(!o)if(s)o=s;else try{o=localStorage.getItem(`poki_${i}_user_id`)||void 0,o||(o=crypto.randomUUID(),localStorage.setItem(`poki_${i}_user_id`,o))}catch{return}const c={meta:r,p4d_game_id:n,[i]:e,user_id:o,score:t,version:1},u=Object.keys(c),d=(0,a.z)(u.length,t),l={};for(let e=0;e<d.length;e++){const t=u[d[e]];l[t]=c[t]}let y=JSON.stringify(l);y=y.trim(),y+=" ".repeat(Math.abs(t%7)),fetch(`https://${i}.poki.com/v0/${i}s/submit`,{method:"POST",body:y}).catch((()=>{}))}},88421:(e,t,r)=>{function a(e){return e.search.expanded}function i(e){return e.search.pending}function o(e){return e.search.error}function n(e){return e.search.query}function s(e){return e.search.searchSessionId}function c(e){return e.search.results}r.d(t,{GO:()=>a,Ie:()=>s,SO:()=>i,Z1:()=>n,fj:()=>c,j5:()=>o})},98417:(e,t,r)=>{r.d(t,{d:()=>s,H:()=>c});var a=r(1081),i=r(40827);var o=r(42891),n=r(34524);function s(e){const t=(0,o.H6)(e),r=i.A[t?"mobile":"desktop"];return Object.values(r).map((t=>t(e)))}const c=(0,a.Mz)(s,(function(e){return e.currency}),n.I2,((e,t,r)=>({adUnits:e,config:{debug:!1,useBidCache:!0,bidCacheFilterFunction:e=>!("video"===e.mediaType&&"rubicon"===e.bidder),currency:{adServerCurrency:"EUR",rates:t,defaultRates:t},ortb2:r}})))},98708:(e,t,r)=>{r.d(t,{K:()=>n});var a=r(1081),i=r(61481),o=r(91323);const n=(0,a.Mz)((e=>i.lh.endpoints.getLocalisations.select({site:(0,o.Gd)(e)})(e)),(e=>e?.data||[]))}}]);
//# sourceMappingURL=client~main-a4fc0d9e~4667c1fa26a6c57e2a9b.js.map